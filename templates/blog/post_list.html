{% extends 'base.html' %}
{% load static %}

{% block title %}وبلاگ - {{ profile.name|default:"پورتفولیو" }}{% endblock %}

{% block content %}
<div class="container mx-auto px-6 py-12">
  <div class="text-center mb-16 fade-in">
    <h1 class="text-5xl font-bold text-gray-800 mb-4">وبلاگ</h1>
    <div class="w-24 h-1 bg-cyan-500 mx-auto"></div>
    <p class="text-gray-600 mt-6 max-w-2xl mx-auto">تجربیات، آموزش‌ها و نکات توسعه وب</p>
  </div>

  <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
    {% for post in posts %}
    <article class="fade-in card-hover bg-white rounded-2xl shadow-lg overflow-hidden">
      <div class="h-56 bg-gradient-to-br from-cyan-400 to-blue-600 relative overflow-hidden">
        {% if post.image %}
          <img src="{{ post.image.url }}" alt="{{ post.title }}" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
        {% else %}
          <div class="w-full h-full flex items-center justify-center text-white text-6xl">
            <i class="fas fa-blog"></i>
          </div>
        {% endif %}
      </div>
      <div class="p-6">
        <div class="flex items-center text-sm text-gray-500 mb-3">
          <i class="fas fa-calendar-alt ml-2"></i>
          <span>{{ post.created_at|date:"d F Y" }}</span>
          <span class="mr-4">•</span>
          <span>{{ post.author.get_full_name|default:post.author.username }}</span>
        </div>
        <h3 class="text-xl font-bold text-gray-800 mb-3 line-clamp-2">{{ post.title }}</h3>
        <p class="text-gray-600 mb-4 line-clamp-3">{{ post.summary|default:post.content|striptags|truncatewords:25 }}</p>
        <a href="{% url 'blog:post_detail' post.id %}" class="inline-flex items-center text-cyan-600 hover:text-cyan-700 font-semibold">
          ادامه مطلب
          <i class="fas fa-arrow-left ml-2"></i>
        </a>
      </div>
    </article>
    {% empty %}
    <p class="text-center col-span-full text-gray-500 text-lg">هنوز پستی منتشر نشده است.</p>
    {% endfor %}
  </div>

  <!-- Pagination (اختیاری) -->
  {% if posts %}
  <div class="flex justify-center mt-12">
    <a href="#" class="px-6 py-3 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition">بیشتر</a>
  </div>
  {% endif %}
</div>
{% endblock %}